\newcommand{\makeunderscorenormal}{\catcode`\_=8}
\newcommand{\makeunderscoreletter}{\catcode`\_=11}
\def\kw{%
    \begingroup
        \catcode`\_=11
%        \chardef\_=`\_  % not needed
        \kwset
    }
\def\kwset#1{%
        \ttfamily
        #1%
    \endgroup
    }

