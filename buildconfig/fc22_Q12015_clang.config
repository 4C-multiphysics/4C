CMAKE_COMMAND=cmake

# path to (Open)MPI
MPIDIR=/usr/lib64/openmpi
MPIRUN=$MPIDIR/bin/mpirun

# hardwire compiler to clang
CXX="/usr/bin/clang++"
CC="/usr/bin/clang"
F90="/usr/bin/gfortran"

# optimization flags (used for C and C++ code)
CFLAGS="-Wall -Wno-unknown-pragmas -Wignored-qualifiers -mfpmath=sse -msse3 -I/usr/include/openmpi-x86_64 -pthread"
CXXFLAGS="-std=c++11 -Wall -Wno-unknown-pragmas -Wignored-qualifiers -Wno-overloaded-virtual -Wno-format-security -mfpmath=sse -msse3 -I/usr/include/openmpi-x86_64 -pthread"
CXXFLAGSRELEASE="-O3"

# optimization flags for Fortran
FFLAGS="-Wall"
FFLAGSRELEASE="-O5 -funroll-all-loops -malign-double"

# linker flags, use gold linker because it is much faster...
LINKERFLAGS="-lhdf5_hl -fuse-ld=gold -pthread -Wl,-rpath -Wl,/usr/lib64/openmpi/lib -Wl,--enable-new-dtags -L/usr/lib64/openmpi/lib -lmpi_cxx -lmpi -lgfortran"
LINKERFLAGSRELEASE="-O2"

# library path (3d party libraries for BACI)
INCLUDE_INSTALL_DIR="/lnm/lib/Q1_2015/fc22/lnm/include"
LIB_INSTALL_DIR="/lnm/lib/Q1_2015/fc22/lnm/lib"

# path to Trilinos
Trilinos_PREFIX="/lnm/lib/Q1_2015/trilinos/fc22_clang_$TRILINOS_BUILD_TYPE/"

# Trilinos package configuration
BUILD_Teko=OFF
BUILD_Stratimikos=OFF
BUILD_MueLu=ON
BUILD_MueLuExperimental=ON

if [ $USE_ACML == 1 ]; then
  echo "!!!!!!!!!!!!!!!!!!!!  WARNING  !!!!!!!!!!!!!!!!!!!!!!!!"
  echo "!! WARNING: ACML not supported on FC22               !!"
  echo "!! Switching to OpenBLAS instead.                    !!"
  echo "!!!!!!!!!!!!!!!!!!!!  WARNING  !!!!!!!!!!!!!!!!!!!!!!!!"
  echo
fi
# libM replacement
AMDLIBMDIR_PATH=""

# AMD core math library BLAS/LAPACK replacement
ACMLDIR_PATH=""
BLAS_LIBS="/lnm/lib/Q1_2015/fc22/lnm/lib/libopenblas.a"
LAPACK_LIBS="/lnm/lib/Q1_2015/fc22/lnm/lib/libopenblas.a;/usr/lib64/libgfortran.so.3"
BLA_VENDORSTRING="openBLAS.0.2.14"
echo "!!!!!!!!!!!!!!!!!!!!!!  INFO  !!!!!!!!!!!!!!!!!!!!!!!!!"
echo "!! Using high performance BLAS routines based on     !!"
echo "!! OpenBLAS.                                         !!"
echo "!!!!!!!!!!!!!!!!!!!!!!  INFO !!!!!!!!!!!!!!!!!!!!!!!!!!"

# deal package
if [ $USE_DEAL == 1 ]; then
  DEAL_II_DIR=/lnm/lib/Q1_2015/deal.II/fc22_openmpi
  BUILD_Deal=ON
fi

# boost library
BOOST_INCLUDEDIR=$INCLUDE_INSTALL_DIR
BOOST_LIBRARYDIR=$LIB_INSTALL_DIR
USE_USERSPECIFIED_BOOST=OFF # bypass cmake FindBoost script (default: OFF)
BOOST_EXCLUDE_SYSTEM_PATHS="OFF"

# SuperLu
FOUND_NO_SUPERLU=OFF

# Cubit PATH (only needed for framework tests)
CUBIT_PATH="/lnm/programs64/cubit-13.2/bin"
