## Build configuration for cluster at IMCS
## OS: CentOS 7.6
## Toolchain: openmpi, gcc, Trilinos (Q1_2015)

CMAKE_COMMAND=cmake

# MPI environment
MPIDIR=/opt/openmpi/1.10.7/gcc
MPIRUN=/opt/openmpi/1.10.7/gcc/bin/mpirun

# compilers
CXX=$MPIDIR/bin/mpic++
CC=$MPIDIR/bin/mpicc
F90=$MPIDIR/bin/mpif90

# optimization flags (used for C and C++ code)
CFLAGS="-Wall -Wno-unknown-pragmas -Wignored-qualifiers -mfpmath=sse -msse3"
CXXFLAGS="-std=c++11 -Wall -Wno-unknown-pragmas -Wignored-qualifiers -Wno-maybe-uninitialized -Wno-format-security -mfpmath=sse -msse3"
CXXFLAGSRELEASE="-O2 -funroll-loops"

# optimization flags for Fortran
FFLAGS="-Wall"
FFLAGSRELEASE="-O3 -funroll-all-loops -malign-double"

# linker flag
LINKERFLAGS="-lhdf5_hl -fuse-ld=gold"
LINKERFLAGSRELEASE="-O2"

# path to Trilinos installation
Trilinos_PREFIX="/home/opt/trilinos/Q1_2015/trilinos-build-openmpi-gcc-4-8-5"

# Trilinos package configuration
BUILD_Teko=OFF
BUILD_Stratimikos=OFF
BUILD_MueLu=ON
BUILD_MueLuExperimental=ON

if [ $USE_ACML == 1 ]; then
  echo "!!!!!!!!!!!!!!!!!!!!  WARNING  !!!!!!!!!!!!!!!!!!!!!!!!"
  echo "!! WARNING: ACML not supported on IMCS cluster       !!"
  echo "!! Switching to system BLAS/LAPACK instead.          !!"
  echo "!!!!!!!!!!!!!!!!!!!!  WARNING  !!!!!!!!!!!!!!!!!!!!!!!!"
  echo
fi
# libM replacement
AMDLIBMDIR_PATH=""

# AMD core math library BLAS/LAPACK replacement
ACMLDIR_PATH=""
BLAS_LIBS=""
LAPACK_LIBS=""
BLA_VENDORSTRING=""

# QHull
QHULL_LIBRARYDIR="$QHULL_ROOT/lib"
QHULL_INCLUDEDIR="$QHULL_ROOT/include/libqhull"

# deal package
if [ $USE_DEAL == 1 ]; then
  echo "DEAL package not yet implemented with Ubuntu"
  exit
fi

# boost library
BOOST_INCLUDE_DIR="/usr/include"
BOOST_LIBRARY_DIR="/lib64"
USE_USERSPECIFIED_BOOST=OFF
BOOST_EXCLUDE_SYSTEM_PATHS=OFF

# CLN library
CLN_LIBRARYDIR="$CLN_ROOT/lib"
CLN_INCLUDEDIR="$CLN_ROOT/include"

# SuperLu
FOUND_NO_SUPERLU=OFF

# Cubit PATH (only needed for framework tests)
CUBIT_PATH=""

