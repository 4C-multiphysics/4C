/*----------------------------------------------------------------------*/
/*!
 \file poro_utils_clonestrategy.H

 \brief

 <pre>
   Maintainer: Anh-Tu Vuong
               vuong@lnm.mw.tum.de
               http://www.lnm.mw.tum.de
               089 - 289-15251
 </pre>
 *----------------------------------------------------------------------*/


#ifndef PORO_CLONESTRATEGY_H_
#define PORO_CLONESTRATEGY_H_

#include "../drt_scatra/scatra_utils_clonestrategy.H"

/*----------------------------------------------------------------------*
 |                                                                      |
 *----------------------------------------------------------------------*/
namespace POROELAST
{
  /// POROELAST::UTILS: Random stuff that might be helpful when dealing with poroelasticity problems
  namespace UTILS
  {
    //! \brief implementation of special clone strategy for automatic generation
    //!        of fluid discretization from a given structure discretization
    class PoroelastCloneStrategy {
    public:

      /// constructor
      explicit PoroelastCloneStrategy() {}
      /// destructor
      virtual ~PoroelastCloneStrategy() {}

      /// returns conditions names to be copied (source and target name)
      std::map<std::string, std::string> ConditionsToCopy();

    protected:

      /// determine element type string and whether element is copied or not
      bool DetermineEleType(
          DRT::Element*             actele,
          const bool                ismyele,
          std::vector<std::string>& eletype);
      /// set element-specific data (material etc.)
      void SetElementData(
          Teuchos::RCP<DRT::Element> newele,
          DRT::Element*              oldele,
          const int                  matid,
          const bool                 isnurbs);

      /// check for correct material
      void CheckMaterialType(const int matid);

    }; // class PoroelastCloneStrategy

    //! \brief implementation of special clone strategy for automatic generation
    //!        of scatra discretization from a given structure discretization for porous media
    class PoroScatraCloneStrategy: public SCATRA::ScatraFluidCloneStrategy {
    public:

      /// constructor
      explicit PoroScatraCloneStrategy() {}
      /// destructor
      virtual ~PoroScatraCloneStrategy() {}

    protected:

      /// determine element type string and whether element is copied or not
      virtual bool DetermineEleType(
          DRT::Element* actele,
          const bool ismyele,
          std::vector<std::string>& eletype);

      /// returns conditions names to be copied (source and target name)
      virtual std::map<std::string,std::string> ConditionsToCopy();
    }; // class PoroScatraCloneStrategy

  } // namespace UTILS
}

#endif /* PORO_CLONESTRATEGY_H_ */
