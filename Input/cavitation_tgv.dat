//
// Maintainer: Georg Hammerl
//
==================================================================
General Data File BACI
==================================================================
-----------------------------------------------------------------------TITLE
Taylor-Green vortex for the fluid field with periodic boundary
conditions in xyz-direction
- the particles are constrained to a 2D motion and pbcs only occur in xy-direction
- a few particles close to the -y boundary cross the pbc
- void fraction computation needs to account for pbc as well
------------------------------------------------------PROBLEM SIZE
//ELEMENTS    32768
//NODES       35937
DIM           3
-----------------------------------------------------------------PROBLEM TYP
PROBLEMTYP                      Cavitation
RESTART                         0
--------------------------------------------------------------------MESHFREE
TYPE                            Particle
BOUNDINGBOX                     -0.05 -0.05 -0.0625 +0.05 +0.05 +0.0625
CUTOFF_RADIUS                   5.0e-3
----------------------------------------------------------PARTICLE DYNAMIC
DIMENSION                       2Dz
DYNAMICTYP                      CentrDiff
RANDOM_AMPLITUDE                0.0
----------------------------------------------------------CAVITATION DYNAMIC
COUPALGO                        cavitation_twowayfull_weak
INIT_BUBBLEVEL_FROM_FLUID       yes
INFLUENCE_SCALING               3.0
RESULTSEVRY                     2
RESTARTEVRY                     1000
SIMPLIFIED_BUBBLE_FORCES        No
TIMESTEP                        1.0e-5
TIME_STEP_SIZE_RATIO            100
NUMSTEP                         5
MAXTIME                         0.02
FLUIDFRAC_PROJ_METHOD           superconvergent_patch_recovery
VOID_FRACTION_CALC              analytical_quadraticpoly
---------------------------------------------------------------FLUID DYNAMIC
PHYSICAL_TYPE                   Loma
ADAPTCONV                       yes
ADAPTCONV_BETTER                0.1
ALPHA_M                         0.83333333333333
ALPHA_F                         0.66666666666666
GAMMA                           0.66666666666666
GEOMETRY                        box
COMPUTE_DIVU                    yes
CONVCHECK                       L_2_norm
CONVFORM                        convective
CONVTOL                         1e-0
ITEMAX                          15
MAXTIME                         100000
NONLINITER                      fixed_point_like
NUMSTASTEPS                     1
NUMSTEP                         300
PREDICTOR                       steady_state
RESTARTEVRY                     10000
TIMEINTEGR                      Af_Gen_Alpha
TIMESTEP                        0.1
RESULTSEVRY                     100
INITIALFIELD                    field_by_function
STARTFUNCNO                     1
LINEAR_SOLVER                   1
VELGRAD_PROJ_METHOD             superconvergent_patch_recovery
------------------------------------------------FLUID DYNAMIC/TIMEADAPTIVITY
ADAPTIVE_TIME_STEP_ESTIMATOR    only_print_cfl_number
-------------------------------------------------FLUID DYNAMIC/RESIDUAL-BASED STABILIZATION
CROSS-STRESS                    no_cross
GRAD_DIV                        no
DEFINITION_TAU                  Taylor_Hughes_Zarins_Whiting_Jansen_wo_dt //Franca_Barrenechea_Valentin_Frey_Wall
PSPG                            yes
REYNOLDS-STRESS                 no_reynolds
STABTYPE                        residual_based
SUPG                            yes
EVALUATION_TAU                  integration_point
--------------------------------------------------------------------SOLVER 1
NAME              Fluid_Solver
SOLVER            Aztec_MSR // vm3 Aztec_MSR SPOOLES_nonsym Superlu Colsol UMFPACK Amesos_KLU_sym Amesos_KLU_nonsym LAPACK_sym LAPACK_nonsym
AZOUTPUT          0         // output every so often, 0 no output
AZSOLVE           GMRES     // CG GMRES CGS BiCGSTAB LU TFQMR
AZPREC            MLFLUID2  // none ML MLFLUID MLFLUID2 LU ILU ILUT LU ICC Jacobi SymmGaussSeidel Least_Squares Neumann
AZREUSE           5         // how often to recompute some preconditioners
AZDROP            0.0       // drop tolerance for ILUT
IFPACKFILL        1.0       // fill-in for ILUT
IFPACKGFILL       0         // graph fill for ILU
AZTOL             1.0E-9    // tolerance in unscaled residual
AZCONV            AZ_r0     // scale residual for convergence check by AZ_r0 AZ_rhs AZ_Anorm AZ_sol AZ_weighted AZ_expected_values AZ_noscaled AZTECOO_conv_test AZ_inf_noscaled
AZITER            200      // max iterations
AZSUB             60        // size of krylov space for gmres
AZOMEGA           1.0       // unused
AZGRAPH           1         // unused
AZPOLY            5         // polynomial order for Neumann
IFPACKOVERLAP     2         // amount of ASM overlap for ILU, ILU, ICC, LU
IFPACKCOMBINE     Zero      // combine mode: Zero, Insert, Add
AZSCAL            none      // none sym infnorm scaling of the system
ML_PRINT          0         // ML print-out level (0-10)
ML_MAXCOARSESIZE  5000      // ML stop coarsening when coarse ndof smaller then this
ML_MAXLEVEL       3         // ML max number of levels
ML_COARSEN        UC        // UC MIS METIS VBMETIS
ML_AGG_SIZE       27        // objective size of an aggregate with METIS/VBMETIS, 2D: 9, 3D: 27
ML_PROLONG_SMO    0.0       // damping factor for prolongator smoother (usually 0.0 or 1.33)
ML_PROLONG_THRES  0.0       // threshold for prolongator smoother/aggregation
ML_SMOOTHERFINE   SGS       // SGS Jacobi Chebychev MLS ILU KLU
ML_SMOOTHERMED    SGS       // SGS Jacobi Chebychev MLS ILU KLU
ML_SMOOTHERCOARSE Umfpack   // SGS Jacobi Chebychev MLS KLU Superlu Umfpack
ML_SMOTIMES       2 2 1     // no. smoothing steps or polynomial order on each level (at least ML_MAXLEVEL numbers)
ML_DAMPFINE       0.67      // damping fine grid
ML_DAMPMED        0.67      // damping med grids
ML_DAMPCOARSE     1.0       // damping coarse grid
-------------------------------------------------------------------MATERIALS
MAT 1 MAT_cavitation DYNVISCOSITY 1.0e-3 DENSITY 1.0e3 GAMMA 0.0728 PVAPOR 2981.0
MAT 2 MAT_Particle DENSITY 1.0 INITRADIUS 5.85e-4 NUE 0.0 YOUNG 1.0
----------------------------------------------------------------------CURVE1
----------------------------------------------------------------------CURVE2
----------------------------------------------------------------------CURVE3
----------------------------------------------------------------------FUNCT1
FUNCT1 COMPONENT 0 EXPR 0 0.0 0 FUNCTION -1000.0*2.0/(8*pi*pi)*cos(x/0.1*2.0*pi)*sin(y/0.1*2.0*pi)
FUNCT1 COMPONENT 1 EXPR 0 0.0 0 FUNCTION 1000.0*2.0/(8*pi*pi)*sin(x/0.1*2.0*pi)*cos(y/0.1*2.0*pi)
FUNCT1 COMPONENT 2 EXPR 0 0.0 0 FUNCTION 0.0
FUNCT1 COMPONENT 3 EXPR 0 0.0 0 FUNCTION -pi*5e4*(cos(2.0*x/0.1*2.0*pi)+cos(2.0*y/0.1*2.0*pi))
----------------------------------------------------------------------FUNCT2
------------------------------------------------DESIGN DESCRIPTION
NDPOINT 0
NDLINE  0
NDSURF  7
NDVOL   1
NDPARTICLE 1
--------------------------DESIGN SURF PERIODIC BOUNDARY CONDITIONS
DSURF  6
// surface_top
E 1 - 3 Slave PLANE xz LAYER 1 ANGLE 0.0 ABSTREETOL 1e-9
// surface_bottom
E 2 - 3 Master PLANE xz LAYER 1 ANGLE 0.0 ABSTREETOL 1e-9
// surface_left
E 3 - 1 Master PLANE yz LAYER 1 ANGLE 0.0 ABSTREETOL 1e-9
// surface_right
E 4 - 1 Slave PLANE yz LAYER 1 ANGLE 0.0 ABSTREETOL 1e-9
// surface_front
E 5 - 2 Slave PLANE xy LAYER 1 ANGLE 0.0 ABSTREETOL 1e-9
// surface_back
E 6 - 2 Master PLANE xy LAYER 1 ANGLE 0.0 ABSTREETOL 1e-9
---------------------------------DESIGN VOL MODE FOR KRYLOV SPACE PROJECTION
DVOL                            1
//                              volume
E 1 - fluid NUMMODES 4 ONOFF 0 0 0 1 integration
------------------------------------DESIGN PARTICLE PERIODIC BOUNDARY CONDITION
DPARTICLE                       1
E 1 - ONOFF 1 1 0 boundaries -0.05 0.05 -0.05 0.05 -0.0625 0.0625
-----------------------------------------------DNODE-NODE TOPOLOGY
-----------------------------------------------DLINE-NODE TOPOLOGY
-----------------------------------------------DSURF-NODE TOPOLOGY
SIDE fluid y+ DSURFACE 1
SIDE fluid y- DSURFACE 2
SIDE fluid x- DSURFACE 3
SIDE fluid x+ DSURFACE 4
SIDE fluid z- DSURFACE 5
SIDE fluid z+ DSURFACE 6
------------------------------------------------DVOL-NODE TOPOLOGY
VOLUME fluid DVOL 1
-------------------------------------------------------NODE COORDS
----------------------------------------------------------FLUID DOMAIN
LOWER_BOUND -0.05 -0.05 -0.0625
UPPER_BOUND +0.05 +0.05 +0.0625
INTERVALS   16 16 2
ELEMENTS    FLUID HEX8 MAT 1 NA Euler GP 2 2 2
----------------------------------------------------------PARTICLE DOMAIN
LOWER_BOUND -4.9375e-2 -4.9975e-2 -3.125e-2
UPPER_BOUND +4.9375e-2 -4.9975e-2 +3.125e-2
INTERVALS   22 1 2
----------------------------------------------------------RESULT DESCRIPTION
FLUID DIS fluid ELEMENT 3 QUANTITY fluidfraction VALUE 9.99760155237773063e-01 TOLERANCE 6.0e-11
FLUID DIS fluid ELEMENT 255 QUANTITY fluidfraction VALUE 9.99795073033728054e-01 TOLERANCE 5e-11
FLUID DIS fluid ELEMENT 500 QUANTITY fluidfraction VALUE 9.99773395032546253e-01 TOLERANCE 6e-10
PARTICLE DIS particle NODE 5482 QUANTITY dispx VALUE 1.64332495071920839e-02 TOLERANCE 5.0e-11
PARTICLE DIS particle NODE 5482 QUANTITY dispy VALUE 4.97929541534990125e-02 TOLERANCE 6.0e-10
PARTICLE DIS particle NODE 5482 QUANTITY dispz VALUE 3.125e-02 TOLERANCE 1.0e-12
---------------------------------------------------------------END
// END
