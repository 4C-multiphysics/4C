
//Example with three beams to test the new gap function and the smoothing of the CCP


//Global Prameters:

#define BEAMCONTACTMAXITER 50 // max number of steps for local Newton
#define BEAMCONTACTTOL 1.0e-12 // convergence tolerance for local Newton
#define NDIM 3 // number of spatial dimensions
#define XIETATOL 1.0e-9 // tolerance for valid vaulues of beam parameters Xi and Eta (e.g. Xi \in [-1 - XIETATOL; 1 + XIETATOL])
#define NORMTOL 1.0e-9 // tolerance when the to contact points are to close and one beam has to be shifted artificially
#define SHIFTVALUE 1.0e-7 // value, one contact point will be shiftet, if contact points are to close
#define COLINEARTOL 1.0e-12 // tolerance when two elements are almost colinear
#define NORMALTOL 0.1 // tolerance how small the scalar product of normal_old and normal is allowed to be
#define MANIPULATERADIUS 0.1 // with this parameter the geometrical radius used for contact evaluation can be choosen different from the physical radius appearing in the bending stiffness
#define NEIGHBORTOL 3


==================================================================
General Data File CCARAT
==================================================================
-----------------------------------------------------------------------TITLE
Default_title
----------------------------------------------------------------PROBLEM SIZE
ELEMENTS                        3
NODES                           5
DIM 3 //rumpf2.txt /begin
MATERIALS                       1
NUMDF                           6
-----------------------------------------------------------------PROBLEM TYP
PROBLEMTYP                      Structure
NUMFIELD                        1
//TIMETYP                       Dynamic
//ALGEBRA                       Trilinos                        // ccarat/Trilinos
RESTART                         0
--------------------------------------------------------------DISCRETISATION
NUMFLUIDDIS                     0
NUMSTRUCDIS                     1
NUMALEDIS                       0
NUMTHERMDIS                     0
--------------------------------------------------------------------------IO
OUTPUT_OUT                      No
OUTPUT_GID                      No
OUTPUT_BIN                      Yes
STRUCT_DISP                     Yes
STRUCT_STRESS                   No
STRUCT_STRAIN                   No
STRUCT_SM_DISP                  No
FLUID_SOL                       No
FLUID_STRESS                    No
FLUID_VIS                       No
ALE_DISP                        No
THERM_TEMPERATURE               No
THERM_HEATFLUX                  No
FILESTEPS                       1000
----------------------------------------------------------STRUCTURAL DYNAMIC
LINEAR_SOLVER                   1
DYNAMICTYP                      GenAlpha
EIGEN                           0
RESULTSEVRY                     1
RESTARTEVRY                     1
NLNSOL                          fullnewton                      // fullnewton modnewton nlncg ptc
TIMESTEP                        0.002                           // pseudo time step as load step
NUMSTEP                         500                             // number of pseudo time steps
MAXTIME                         1                               // normalized pseudo simulation time
DAMPING                         No
M_DAMP                          0
K_DAMP                          0
PREDICT                         ConstDis                        // ConstDisVelAcc ConstDis
TOLRES                          1.0E-06
TOLDISP                         1.0E-10
NORM_RESF                       Abs
NORM_DISP                       Abs
NORMCOMBI_RESFDISP              And
MAXITER                         25
-------------------------------------------------STRUCTURAL DYNAMIC/GENALPHA
GENAVG                          ImrLike
BETA                            0.5
GAMMA                           1.0
ALPHA_M                         0.5
ALPHA_F                         0.5
-------------------------------------------------------------CONTACT DYNAMIC
LINEAR_SOLVER                   2
APPLICATION                     BeamContact
STRATEGY                        Penalty
PENALTYPARAM                    1e+5
BEAMS_NEWGAP                    Yes
BEAMS_SMOOTHING                 cpp
--------------------------------------------------------------------SOLVER 1
NAME                            Structure_Solver
SOLVER                          Amesos_KLU_nonsym
--------------------------------------------------------------------SOLVER 2
NAME                            Contact_Solver
SOLVER                          Amesos_KLU_nonsym
----------------------------------------------------------DESIGN DESCRIPTION
NDPOINT                         4
NDLINE                          2
NDSURF                          0
NDVOL                           0
----------------------------------------------DESIGN POINT DIRICH CONDITIONS
// DOBJECT FLAG FLAG FLAG FLAG FLAG FLAG VAL VAL VAL VAL VAL VAL CURVE CURVE CURVE CURVE CURVE CURVE
DPOINT                          2                               // Anzahl der DPOINTs mit DBC
E 3 - NUMDOF 6 ONOFF 1 1 1 1 0 1 VAL 0.0 0.0 0.0 0.0 0.0 0.0 CURVE none none none none none none FUNCT 0 0 0 0 0 0
E 4 - NUMDOF 6 ONOFF 1 1 1 1 0 1 VAL 0.0 0.0 0.0 0.0 0.0 0.0 CURVE none none none none none none FUNCT 0 0 0 0 0 0
-----------------------------------------------DESIGN LINE DIRICH CONDITIONS
// DOBJECT FLAG FLAG FLAG FLAG FLAG FLAG VAL VAL VAL VAL VAL VAL CURVE CURVE CURVE CURVE CURVE CURVE
DLINE                           1                               // Anzahl der DLINEs mit DBC
E 1 - NUMDOF 6 ONOFF 1 1 1 0 0 0 VAL 0.0 0.0 -0.4 0.0 0.0 0.0 CURVE none 1 1 none none none FUNCT 0 0 0 0 0 0
---------------------------------------------DESIGN POINT NEUMANN CONDITIONS
// DOBJECT CURVE FLAG FLAG FLAG FLAG FLAG FLAG VAL VAL VAL VAL VAL VAL FUNC FUNC FUNC FUNC FUNC FUNC TYPE NSURF
DPOINT                          0
//E 3 - 1 0 0 1 0 0 0 0.0 0.0 0.0 0.0 0.0 0.0 Live Mid 0 0 0 0 0 0
---------------------------------------------------------DNODE-NODE TOPOLOGY
NODE 1 DNODE 1
NODE 2 DNODE 2
NODE 3 DNODE 3
NODE 5 DNODE 4
---------------------------------------------------------DLINE-NODE TOPOLOGY
NODE 1 DLINE 1
NODE 2 DLINE 1
NODE 3 DLINE 2
NODE 4 DLINE 2
NODE 5 DLINE 2
-----------------------------------------------------------------NODE COORDS
NODE 1 COORD -0.500000000000000 -0.0000000000000 0.4000000000000000e+00
NODE 2 COORD 0.500000000000000 -0.0000000000000 0.4000000000000000e+00
NODE 3 COORD 0.000000000000000 -0.500000000000000 0.000000000000000e+00
NODE 4 COORD 0.000000000000000 -0.00000000000000 0.1000000000000000e+00
NODE 5 COORD 0.000000000000000 0.500000000000000 0.000000000000000e+00
----------------------------------------------------------STRUCTURE ELEMENTS
1 BEAM3 LIN2 1 2 MAT 1 CROSS 0.03142 SHEARCORR 1.1 MOMIN 0.00007854 MOMINPOL 0.0001571
2 BEAM3 LIN2 3 4 MAT 1 CROSS 0.03142 SHEARCORR 1.1 MOMIN 0.00007854 MOMINPOL 0.0001571
3 BEAM3 LIN2 4 5 MAT 1 CROSS 0.03142 SHEARCORR 1.1 MOMIN 0.00007854 MOMINPOL 0.0001571
-------------------------------------------------------------------MATERIALS
//                              MAT_Struct_StVenantKirchhoff
MAT 1 MAT_Struct_StVenantKirchhoff YOUNG 100000 NUE 0 DENS 0.001 THEXPANS 0.0
----------------------------------------------------------------------CURVE1
CURVE1 on Polygonal T 0.0 BYABSTIME Yes 0.0 1.0 FACTOR 0.0 1.0
----------------------------------------------------------RESULT DESCRIPTION
STRUCTURE DIS structure NODE 4 QUANTITY dispx VALUE 5.2878585445951741e-14 TOLERANCE 1e-6
STRUCTURE DIS structure NODE 4 QUANTITY dispy VALUE 4.0774324833961079e-17 TOLERANCE 1e-6
STRUCTURE DIS structure NODE 4 QUANTITY dispz VALUE -2.89867118309391381e-01 TOLERANCE 1e-6
-------------------------------------------------------------------------END
//                              END
