//
// Maintainer: Sebastian Fuchs
// fuchs@lnm.mw.tum.de
// https://www.lnm.mw.tum.de/staff/sebastian-fuchs/
// 089/289-15262
//
==================================================================
General Data File BACI
==================================================================
-----------------------------------------------------------------------TITLE
inflow of bubbles which follow the fluid flow
bounding box is smaller than a single fluid element
bubble leaves bounding box during outer loop of strong coupling which need
to be reset properly
----------------------------------------------------------------PROBLEM SIZE
//ELEMENTS                      20
//NODES                         24
DIM                             3
-----------------------------------------------------------------PROBLEM TYP
PROBLEMTYP                      Cavitation
--------------------------------------------------------------------------IO
FILESTEPS                       10000
OUTPUT_BIN                      Yes
STRUCT_DISP                     Yes
STRUCT_STRESS                   No
FLUID_SOL                       No
FLUID_STRESS                    No
FLUID_VIS                       No
WRITE_TO_SCREEN                 Yes
WRITE_TO_FILE                   No
LIMIT_OUTP_TO_PROC              -1
VERBOSITY                       Standard
--------------------------------------------------------------------MESHFREE
TYPE                            Particle
CUTOFF_RADIUS                   0.01
BOUNDINGBOX                     3.98 3.98 11.98 4.02 4.02 12.02
----------------------------------------------------------PARTICLE DYNAMIC
DYNAMICTYP                      CentrDiff
PARTICLE_INTERACTION            NormalContact_DEM
NORMAL_CONTACT_LAW              LinearSpringDamp
MIN_RADIUS                      7.0e-5
MAX_RADIUS                      20.0e-3
REL_PENETRATION                 0.05
REL_PENETRATION_WALL            0.05
MAX_VELOCITY                    5.0
COEFF_RESTITUTION               0.33
COEFF_RESTITUTION_WALL          0.25
TENSION_CUTOFF                  Yes
MOVING_WALLS                    No
RANDOM_AMPLITUDE                0.0
----------------------------------------------------------CAVITATION DYNAMIC
INFLOW_RADIUS_BLENDING          No
INIT_BUBBLEVEL_FROM_FLUID       No
ITEMAX                          20
COMPUTE_RADIUS_RP_BASED         yes
CONVTOL                         1.0e-5
COUPALGO                        cavitation_twowayfull_strong
RESULTSEVRY                     1
RESTARTEVRY                     1
TIMESTEP                        5.0e-4
TIME_STEP_SIZE_RATIO            500
NUMSTEP                         33
MAXTIME                         5.0
SIMPLIFIED_BUBBLE_FORCES        No
FLUIDFRAC_PROJ_METHOD           L2_projection
FLUIDFRAC_PROJ_SOLVER           2
VOID_FRACTION_CALC              analytical_constpoly
---------------------------------------------------------------FLUID DYNAMIC
LINEAR_SOLVER                   1
ADAPTCONV                       yes
ADAPTCONV_BETTER                0.01
ALPHA_M                         0.83333333333333
ALPHA_F                         0.66666666666666
GAMMA                           0.66666666666666
CONVCHECK                       L_2_norm
CONVFORM                        convective
CONVTOL                         1e-8
GEOMETRY                        box
ITEMAX                          10
MAXTIME                         0.5
NONLINITER                      Newton
NUMSTEP                         8
PHYSICAL_TYPE                   Loma
PREDICTOR                       steady_state
RESTARTEVRY                     20
STARTFUNCNO                     1
TIMEINTEGR                      Af_Gen_Alpha
INITIALFIELD                    field_by_function
VELGRAD_PROJ_METHOD             L2_projection
VELGRAD_PROJ_SOLVER             9
----------------------------------FLUID DYNAMIC/RESIDUAL-BASED STABILIZATION
CROSS-STRESS                    no_cross
GRAD_DIV                        yes
DEFINITION_TAU                  Taylor_Hughes_Zarins_Whiting_Jansen //Franca_Barrenechea_Valentin_Frey_Wall
PSPG                            yes
STABTYPE                        residual_based
SUPG                            yes
EVALUATION_TAU                  integration_point
--------------------------------------------------------------------SOLVER 1
NAME                            Fluid_Solver
SOLVER                          Aztec_MSR                     // UMFPACK //Aztec_MSR // Aztec_MSR vm3 SPOOLES_nonsym Superlu Colsol UMFPACK Amesos_KLU_sym Amesos_KLU_nonsym LAPACK_sym LAPACK_nonsym
AZOUTPUT                        0                             // output every so often, 0 no output
AZSOLVE                         GMRES                         // CG GMRES CGS BiCGSTAB LU TFQMR
AZPREC                          ILU                           // none ML MLFLUID MLFLUID2 MLAPI ILU ILUT ICC LU Jacobi SymmGaussSeidel GaussSeidel DownwindGaussSeidel Least_Squares Neumann
AZREUSE                         0                             // how often to recompute some preconditioners
AZDROP                          0.0                           // drop tolerance for ILUT
IFPACKFILL                      1.0
IFPACKGFILL                     0
IFPACKOVERLAP                   0
AZTOL                           1.0E-10                       // tolerance in (un)scaled residual
AZCONV                          AZ_r0                         // AZ_r0 AZ_rhs AZ_Anorm AZ_sol AZ_weighted AZ_expected_values AZ_noscaled AZTECOO_conv_test AZ_inf_noscaled
AZITER                          1000                          // max iterations
AZSUB                           1000                          // size of krylov space for gmres
AZOMEGA                         1.0                           // damping factor for Jacobi/GaussSeidel type preconditioners
AZGRAPH                         1                             // unused
AZPOLY                          1                             // polynomial order for Neumann
AZSCAL                          none                          // none sym infnorm scaling of the system
DWINDTAU                        2.5                           // (for DownwindGaussSeidel and DGS, choose between 1.5 - 4.0) Considers only values in matrix that are tau times larger than the average in the frobenius norm
ML_PRINT                        0                             // ML print-out level (0-10)
ML_MAXCOARSESIZE                125                           // ML stop coarsening when coarse ndof smaller then this
ML_MAXLEVEL                     3                             // ML max number of levels
ML_COARSEN                      UC                            // UC MIS METIS VBMETIS
ML_AGG_SIZE                     27                            // objective size of an aggregate with METIS/VBMETIS, 2D: 9, 3D: 27
ML_PROLONG_SMO                  0.0                           // damping factor for prolongator smoother (usually 1.33 or 0.0)
ML_PROLONG_THRES                0.0                           // threshold for prolongator smoother/aggregation
ML_SMOOTHERFINE                 SGS                           // SGS GS DGS Jacobi Chebychev MLS ILU KLU
ML_SMOOTHERMED                  SGS                           // SGS GS DGS Jacobi Chebychev MLS ILU KLU
ML_SMOOTHERCOARSE               Umfpack                       // SGS GS DGS Jacobi Chebychev MLS KLU Superlu
ML_SMOTIMES                     2 2 1                         // no. smoothing steps or polynomial order on each level (at least ML_MAXLEVEL numbers)
ML_DAMPFINE                     0.45                          // damping fine grid
ML_DAMPMED                      0.66                          // damping med grids
ML_DAMPCOARSE                   1.0                           // damping coarse grid
--------------------------------------------------------------------SOLVER 2
NAME                            L2_projection solver for void fraction projection
SOLVER                          UMFPACK
--------------------------------------------------------------------SOLVER 9
NAME                            L2-projection solver for velocity gradient
SOLVER                          Belos                         // Aztec_MSR SPOOLES_nonsym Colsol UMFPACK Amesos_KLU_sym Amesos_KLU_nonsym LAPACK_sym LAPACK_nonsym
AZOUTPUT                        5                             // output every so often, 0 no output
AZSOLVE                         CG                            // CG GMRES CGS BiCGSTAB LU TFQMR
AZPREC                          ILU //ML                            // none ML MLFLUID MLFLUID2 ILU ILUT ICC LU Jacobi SymmGaussSeidel Least_Squares Neumann
AZREUSE                         8                             // how often to recompute some preconditioners
AZDROP                          0.0                           // drop tolerance for ILUT
IFPACKFILL                      1.0                           // fill-in for ILUT
IFPACKGFILL                     0                             // graph fill for ILU
AZTOL                           1.0E-12                       // tolerance in unscaled residual
AZITER                          60                            // max iterations
AZSUB                           25                            // size of krylov space for gmres
AZOMEGA                         1.0                           // unused
AZGRAPH                         1                             // unused
AZPOLY                          5                             // polynomial order for Neumann
IFPACKOVERLAP                   0                             // amount of ASM overlap for ILU, ILU, ICC, LU
AZSCAL                          none                          // none sym infnorm scaling of the system
AZCONV                          AZ_r0                         // AZ_r0 AZ_noscaled AZ_rhs AZ_Anorm AZ_sol AZ_weighted AZ_expected_values AZTECOO_conv_test AZ_inf_noscaled
ML_PRINT                        0                             // ML print-out level (0-10)
ML_MAXCOARSESIZE                5000                          // ML stop coarsening when coarse ndof smaller then this
ML_MAXLEVEL                     3                             // ML max number of levels
ML_COARSEN                      UC                            // UC MIS METIS VBMETIS
ML_AGG_SIZE                     27                            // objective size of an aggregate with METIS/VBMETIS, 2D: 9, 3D: 27
ML_PROLONG_SMO                  1.33                          // damping factor for prolongator smoother (usually 1.33 or 0.0)
ML_PROLONG_THRES                0.0                           // threshold for prolongator smoother/aggregation
ML_SMOOTHERFINE                 SGS                           // SGS Jacobi Chebychev MLS ILU KLU
ML_SMOOTHERMED                  SGS                           // SGS Jacobi Chebychev MLS ILU KLU
ML_SMOOTHERCOARSE               KLU                           // SGS Jacobi Chebychev MLS KLU Superlu
ML_SMOTIMES                     2 3 1                         // no. smoothing steps or polynomial order on each level (at least ML_MAXLEVEL numbers)
ML_DAMPFINE                     0.89                          // damping fine grid
ML_DAMPMED                      1.0                           // damping med grids
ML_DAMPCOARSE                   1.0                           // damping coarse grid
-------------------------------------------------------------------MATERIALS
MAT 1 MAT_cavitation DYNVISCOSITY 3.73 DENSITY 0.970 GAMMA 0.0 PVAPOR 0.0
MAT 2 MAT_Particle DENSITY 1.120 INITRADIUS 2.5e-3 NUE 0.0 YOUNG 1.0
MAT 3 MAT_Struct_StVenantKirchhoff   YOUNG 210.0E9 NUE 0.3 DENS 7.8E3
----------------------------------------------------------------------FUNCT1
COMPONENT 0 FUNCTION 0.0
COMPONENT 1 FUNCTION 0.0
COMPONENT 2 FUNCTION 1.0
COMPONENT 3 FUNCTION 0.0
----------------------------------------------------------------------FUNCT2
COMPONENT 0 FUNCTION 1.0+100*t
----------------------------------------------------------------------FUNCT3
----------------------------------------------------------------------FUNCT4
------------------------------------------------DESIGN DESCRIPTION
NDPOINT 0
NDLINE  0
NDSURF  6
NDVOL   1
NDPARTICLE  0
------------------------------------DESIGN VOL MODE FOR KRYLOV SPACE PROJECTION
DVOL 1
// fluid_volume
E 1 - fluid NUMMODES 4 ONOFF 0 0 0 1 integration
-------------------------------------DESIGN SURF DIRICH CONDITIONS
DSURF  6
// neg_x_surface
E 1 - NUMDOF 4 ONOFF 1 1 1 0 VAL 0.0 0.0 1.0 0.0 FUNCT 0 0 2 0
// pos_x_surface
E 2 - NUMDOF 4 ONOFF 1 1 1 0 VAL 0.0 0.0 1.0 0.0 FUNCT 0 0 2 0
// neg_y_surface
E 3 - NUMDOF 4 ONOFF 1 1 1 0 VAL 0.0 0.0 1.0 0.0 FUNCT 0 0 2 0
// pos_y_surface
E 4 - NUMDOF 4 ONOFF 1 1 1 0 VAL 0.0 0.0 1.0 0.0 FUNCT 0 0 2 0
// neg_z_surface
E 5 - NUMDOF 4 ONOFF 1 1 1 0 VAL 0.0 0.0 1.0 0.0 FUNCT 0 0 2 0
// pos_z_surface
E 6 - NUMDOF 4 ONOFF 1 1 1 0 VAL 0.0 0.0 1.0 0.0 FUNCT 0 0 2 0
--------------------------------------------DESIGN PARTICLE INFLOW CONDITION
DPARTICLE 1
// particle inflow
E 1 - vertex1 4.0 4.0 12.0 vertex2 4.0 4.0 12.0 num_per_dir 1 1 1 inflow_vel 0.0 0.0 1.0 inflow_vel_funct 2 inflow_freq 200 timedelay 0.0 stopinflowtime 999
-----------------------------------------------------DPARTICLE-NODE TOPOLOGY
-----------------------------------------------DNODE-NODE TOPOLOGY
-----------------------------------------------DLINE-NODE TOPOLOGY
-----------------------------------------------DSURF-NODE TOPOLOGY
SIDE fluid x- DSURFACE 1
SIDE fluid x+ DSURFACE 2
SIDE fluid y- DSURFACE 3
SIDE fluid y+ DSURFACE 4
SIDE fluid z- DSURFACE 5
SIDE fluid z+ DSURFACE 6
------------------------------------------------DVOL-NODE TOPOLOGY
VOLUME fluid DVOL 1
-------------------------------------------------------NODE COORDS
----------------------------------------------------------FLUID DOMAIN
LOWER_BOUND 0.0 0.0 0.0
UPPER_BOUND 10.0 10.0 16.0
INTERVALS   1 1 20
ELEMENTS    FLUID HEX8 MAT 1 NA Euler GP 2 2 2
----------------------------------------------------------RESULT DESCRIPTION
PARTICLE DIS particle NODE 2 QUANTITY dispz VALUE 1.20151131799468711e+01 TOLERANCE 1.000e-12
PARTICLE DIS particle NODE 2 QUANTITY radius VALUE 2.96125765073711493e-03 TOLERANCE 1.000e-12
PARTICLE DIS particle NODE 3 QUANTITY dispz VALUE 1.20038626449325765e+01 TOLERANCE 1.000e-12
---------------------------------------------------------------END
