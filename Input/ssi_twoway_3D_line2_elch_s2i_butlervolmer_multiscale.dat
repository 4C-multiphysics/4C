//
//
==================================================================
                  General Data File BACI
==================================================================
-------------------------------------------------------------TITLE
Academic test case for multi-scale electrochemistry:
- one 1D macro scale representing electrolyte and consisting of 10 line2 elements:
  2 in anode region, 3 in separator region, and 4 in cathode region
- composite electrodes represented by multi scale scatra problem
- coupling between macro and micro scales based on reduced Butler-Volmer charge transfer kinetics
- growth of the electrodes w.r.t. micro concentration
- mechanically clamped on both sides
- flux of charges on electrode potential field as Neumann BC
- zero potential on electrode potential field at anode side as Dirichlet BC
------------------------------------------------------PROBLEM SIZE
//ELEMENTS    29
//NODES       30
DIM           3
-------------------------------------------------------PROBLEM TYP
PROBLEMTYP                      Structure_Scalar_Interaction
-----------------------------------------------------------------IO
STRUCT_STRESS                   2PK
------------------------------------------SCALAR TRANSPORT DYNAMIC
SOLVERTYPE                      nonlinear
INITIALFIELD                    field_by_condition
LINEAR_SOLVER                   1
VELOCITYFIELD                   Navier_Stokes
CONVFORM                        conservative
OUTPUTSCALARS                   by_condition
----------------------------SCALAR TRANSPORT DYNAMIC/STABILIZATION
STABTYPE                        no_stabilization
DEFINITION_TAU                  Zero
EVALUATION_TAU                  integration_point
EVALUATION_MAT                  integration_point
---------------------------------SCALAR TRANSPORT DYNAMIC/NONLINEAR
ITEMAX                          20
CONVTOL                         1.0e-10
ITEMAX_OUTER                    20
CONVTOL_OUTER                   1.0e-10
ABSTOLRES                       0.0
------------------------------------------------------ELCH CONTROL
TEMPERATURE                     298.0
EQUPOT                          divi
DIFFCOND_FORMULATION            Yes
INITPOTCALC                     Yes
COUPLE_BOUNDARY_FLUXES          No
-------------------------------------------------------SSI CONTROL
NUMSTEP                         10
TIMESTEP                        0.1
COUPALGO                        ssi_IterStagg
SCATRATIMINTTYPE                Elch
--------------------------------------------SSI CONTROL/PARTITIONED
CONVTOL                         1.0e-10
------------------------------------------------STRUCTURAL DYNAMIC
INT_STRATEGY                    Standard
LINEAR_SOLVER                   1
DYNAMICTYP                      GenAlpha
NLNSOL                          fullnewton
PREDICT                         ConstDis
---------------------------------------STRUCTURAL DYNAMIC/GENALPHA
GENAVG                          TrLike
RHO_INF                         0.95
----------------------------------------------------------SOLVER 1
SOLVER                          UMFPACK
---------------------------------------------------------MATERIALS
MAT 1 MAT_elchmat NUMDOF 3 NUMSCAL 1 NUMPHASE 1 LOCAL Yes PHASEIDS 4 END // anode
MAT 2 MAT_elchmat NUMDOF 2 NUMSCAL 1 NUMPHASE 1 LOCAL Yes PHASEIDS 5 END // electrolyte
MAT 3 MAT_elchmat NUMDOF 3 NUMSCAL 1 NUMPHASE 1 LOCAL Yes PHASEIDS 6 END // cathode
MAT 4 MAT_elchphase EPSILON 0.422012856128946 TORTUOSITY 0.649625165867938 NUMMAT 1 LOCAL Yes MATIDS 7 END // anode
MAT 5 MAT_elchphase EPSILON 1.0 TORTUOSITY 1.0 NUMMAT 1 LOCAL Yes MATIDS 8 END // electrolyte
MAT 6 MAT_elchphase EPSILON 0.47 TORTUOSITY 0.68556546 NUMMAT 1 LOCAL Yes MATIDS 9 END // cathode
MAT 7 MAT_newman_multiscale VALENCE 1 DIFF_COEF_CONC_DEP_FUNCT -1 DIFF_COEF_TEMP_SCALE_FUNCT 0 TRANSNR -1 THERMFAC 0 COND_CONC_DEP_FUNCT -1 COND_TEMP_SCALE_FUNCT 0 SIGMA 1.e10 DIFF_PARA_NUM 1 DIFF_PARA 2.6e-4 TRANS_PARA_NUM 1 TRANS_PARA 0.363 COND_PARA_NUM 1 COND_PARA 1.58e7 MICROFILE ssi_twoway_3D_line2_elch_s2i_butlervolmer_multiscale_anode.mat MICRODIS_NUM 1 A_s 1.564794278374707e+03 END //anode
MAT 8 MAT_newman VALENCE 1.0 DIFF_COEF_CONC_DEP_FUNCT -1 DIFF_COEF_TEMP_SCALE_FUNCT 0 TRANSNR -1 THERMFAC 0 COND_CONC_DEP_FUNCT -1 COND_TEMP_SCALE_FUNCT 0 DIFF_PARA_NUM 1 DIFF_PARA 2.6e-4 TRANS_PARA_NUM 1 TRANS_PARA 0.363 COND_PARA_NUM 1 COND_PARA 1.58e7 END // electrolyte
MAT 9 MAT_newman_multiscale VALENCE 1 DIFF_COEF_CONC_DEP_FUNCT -1 DIFF_COEF_TEMP_SCALE_FUNCT 0 TRANSNR -1 THERMFAC 0 COND_CONC_DEP_FUNCT -1 COND_TEMP_SCALE_FUNCT 0 SIGMA 1.e10 DIFF_PARA_NUM 1 DIFF_PARA 2.6e-4 TRANS_PARA_NUM 1 TRANS_PARA 0.363 COND_PARA_NUM 1 COND_PARA 1.58e7 MICROFILE ssi_twoway_3D_line2_elch_s2i_butlervolmer_multiscale_cathode.mat MICRODIS_NUM 2 A_s 1.564794278374707e+03 END //cathode
MAT 10 MAT_Struct_StVK_Growth YOUNG 2.0e10 NUE 0.3 DENS 5.34e-2 THEXPANS 0.0 C0 1.0 AOS_PROP_GROWTH Yes POLY_PARA_NUM 2 POLY_PARAMS 1.0 1.0e-5  // anode
MAT 11 MAT_Struct_StVK_Growth YOUNG 2.0e10 NUE 0.3 DENS 1.88e-3 THEXPANS 0.0 C0 1.0 AOS_PROP_GROWTH No POLY_PARA_NUM 1 POLY_PARAMS 1.0 // electrolyte
MAT 12 MAT_Struct_StVK_Growth YOUNG 2.0e10 NUE 0.3 DENS 4.7e-3 THEXPANS 0.0 C0 3.5e4 AOS_PROP_GROWTH No POLY_PARA_NUM 2 POLY_PARAMS 1.0 1.0e-5 // cathode
----------------------------------------------CLONING MATERIAL MAP
SRC_FIELD structure SRC_MAT 10 TAR_FIELD scatra TAR_MAT 1
SRC_FIELD structure SRC_MAT 11 TAR_FIELD scatra TAR_MAT 2
SRC_FIELD structure SRC_MAT 12 TAR_FIELD scatra TAR_MAT 3
------------------------------------------------------------FUNCT1
COMPONENT 0 FUNCTION 1.2e3
COMPONENT 1 FUNCTION 0.0
COMPONENT 2 FUNCTION 0.0
------------------------------------------------------------FUNCT2
COMPONENT 0 FUNCTION 1.2e3
COMPONENT 1 FUNCTION 0.0
------------------------------------------------------------FUNCT3
COMPONENT 0 FUNCTION 1.2e3
COMPONENT 1 FUNCTION 0.0
COMPONENT 2 FUNCTION 3.65
------------------------------------------------------------FUNCT4
FUNCTION 1.2e3
------------------------------------------------------------FUNCT5
FUNCTION 0.5*(1-cos(pi*t))*heaviside(1.01-t)+heaviside(t-1.01)
------------------------------------------------RESULT DESCRIPTION
SCATRA DIS scatra NODE 2 QUANTITY phi1 VALUE  1.20000000000000000e+03 TOLERANCE 1.2e-05
SCATRA DIS scatra NODE 2 QUANTITY phi2 VALUE  1.56750617737947742e-07 TOLERANCE 1.6e-15
SCATRA DIS scatra NODE 2 QUANTITY phi3 VALUE -2.66775899144889112e-08 TOLERANCE 2.7e-16
STRUCTURE DIS structure NODE 3 QUANTITY dispx VALUE -8.88620193156983856e-08 TOLERANCE 8.9e-16
SCATRA DIS scatra NODE 5 QUANTITY phi1 VALUE  1.20000000000000000e+03 TOLERANCE 1.2e-05
SCATRA DIS scatra NODE 5 QUANTITY phi2 VALUE -1.39267719078691025e-05 TOLERANCE 1.4e-13
STRUCTURE DIS structure NODE 5 QUANTITY dispx VALUE -8.18639011170348162e-08 TOLERANCE 8.2e-16
SCATRA DIS scatra NODE 8 QUANTITY phi1 VALUE  1.20000000000000000e+03 TOLERANCE 1.2e-05
SCATRA DIS scatra NODE 8 QUANTITY phi2 VALUE -2.48332195478270222e-05 TOLERANCE 2.5e-13
SCATRA DIS scatra NODE 8 QUANTITY phi3 VALUE  3.79896706957466979e+00 TOLERANCE 3.8e-08
STRUCTURE DIS structure NODE 8 QUANTITY dispx VALUE -5.09414817210700412e-09 TOLERANCE 1.0e-16
SSI SPECIAL QUANTITY numiterlastnonlinearsolve VALUE  9.00000000000000000e+00 TOLERANCE 1.0e-16
------------------------------------------------DESIGN DESCRIPTION
NDPOINT 2
NDLINE  3
------------------------------------DESIGN POINT DIRICH CONDITIONS
DPOINT 2
// clamping on both sides of the truss
E 1 - NUMDOF 3 ONOFF 1 1 1 VAL 0.0 0.0 0.0 FUNCT none none none
E 2 - NUMDOF 3 ONOFF 1 1 1 VAL 0.0 0.0 0.0 FUNCT none none none
-------------------------------------DESIGN LINE DIRICH CONDITIONS
DLINE 3
// allow displacement only in x
E 1 - NUMDOF 3 ONOFF 0 1 1 VAL 0.0 0.0 0.0 FUNCT none none none
E 2 - NUMDOF 3 ONOFF 0 1 1 VAL 0.0 0.0 0.0 FUNCT none none none
E 3 - NUMDOF 3 ONOFF 0 1 1 VAL 0.0 0.0 0.0 FUNCT none none none
---------------------------DESIGN LINE TRANSPORT DIRICH CONDITIONS
DLINE 3
// fix concentration in electrolyte
E 1 - NUMDOF 3 ONOFF 1 0 0 VAL 1.2e3 0.0 0.0 FUNCT none none none
E 2 - NUMDOF 2 ONOFF 1 0 VAL 1.2e3 0.0 FUNCT none none
E 3 - NUMDOF 3 ONOFF 1 0 0 VAL 1.2e3 0.0 0.0 FUNCT none none none
--------------------------DESIGN POINT TRANSPORT DIRICH CONDITIONS
DPOINT 1
// set electrical potential at anode side to 0 (and fix concentration in electrolyte)
E 1 - NUMDOF 3 ONOFF 1 0 1 VAL 1.2e3 0.0 0.0 FUNCT none none none 
--------------------------DESIGN POINT TRANSPORT NEUMANN CONDITIONS
DPOINT 1
// apply flux to cathode
E 2 - NUMDOF 3 ONOFF 0 0 1 VAL 0.0 0.0 -1.0e-2 FUNCT none none 5
------------------------------DESIGN CELL VOLTAGE POINT CONDITIONS
DPOINT 2
// anode
E 1 - ID 0
// cathode
E 2 - ID 1
------------------------------DESIGN LINE INITIAL FIELD CONDITIONS
DLINE  3
// anode
E 1 - ScaTra 1
// electrolyte
E 2 - ScaTra 2
// cathode
E 3 - ScaTra 3
-----------------------DESIGN TOTAL AND MEAN SCALAR LINE CONDITIONS
DLINE  3
// anode
E 1 - ID 0
// electrolyte
E 2 - ID 1
// cathode
E 3 - ID 2
-------------------DESIGN ELECTRODE STATE OF CHARGE LINE CONDITIONS
DLINE   2
// anode
E 1 - ID 1 c_0% 1.0 c_100% 1.0e6 one_hour 3600000
// cathode 
E 3 - ID 3 c_0% 4.5536e4 c_100% 1.6776e4 one_hour 3600000
-----------------------------------------------DNODE-NODE TOPOLOGY
NODE 1 DNODE 1
NODE 10 DNODE 2
-----------------------------------------------DLINE-NODE TOPOLOGY
NODE 1 DLINE 1
NODE 2 DLINE 1
NODE 3 DLINE 1
NODE 4 DLINE 2
NODE 5 DLINE 2
NODE 6 DLINE 3
NODE 7 DLINE 3
NODE 8 DLINE 3
NODE 9 DLINE 3
NODE 10 DLINE 3
-------------------------------------------------------NODE COORDS
NODE 1 COORD 0.0000000000000000e+00 0.0000000000000000e+00 0.0000000000000000e+00
NODE 2 COORD 0.0750000000000000e+00 0.0000000000000000e+00 0.0000000000000000e+00
NODE 3 COORD 0.1500000000000000e+00 0.0000000000000000e+00 0.0000000000000000e+00
NODE 4 COORD 0.2250000000000000e+00 0.0000000000000000e+00 0.0000000000000000e+00
NODE 5 COORD 0.3000000000000000e+00 0.0000000000000000e+00 0.0000000000000000e+00
NODE 6 COORD 0.3750000000000000e+00 0.0000000000000000e+00 0.0000000000000000e+00
NODE 7 COORD 0.4500000000000000e+00 0.0000000000000000e+00 0.0000000000000000e+00
NODE 8 COORD 0.5333333333333333e+00 0.0000000000000000e+00 0.0000000000000000e+00
NODE 9 COORD 0.6166666666666666e+00 0.0000000000000000e+00 0.0000000000000000e+00
NODE 10 COORD 0.7000000000000000e+00 0.0000000000000000e+00 0.0000000000000000e+00
------------------------------------------------STRUCTURE ELEMENTS
1 TRUSS3SCATRA LINE2 1 2 MAT 10 CROSS 19e-6 KINEM totlag TYPE ElchDiffCondMultiScale
2 TRUSS3SCATRA LINE2 2 3 MAT 10 CROSS 19e-6 KINEM totlag TYPE ElchDiffCondMultiScale
3 TRUSS3SCATRA LINE2 3 4 MAT 11 CROSS 19e-6 KINEM totlag TYPE ElchDiffCond
4 TRUSS3SCATRA LINE2 4 5 MAT 11 CROSS 19e-6 KINEM totlag TYPE ElchDiffCond
5 TRUSS3SCATRA LINE2 5 6 MAT 11 CROSS 19e-6 KINEM totlag TYPE ElchDiffCond
7 TRUSS3SCATRA LINE2 6 7 MAT 12 CROSS 19e-6 KINEM totlag TYPE ElchDiffCondMultiScale
8 TRUSS3SCATRA LINE2 7 8 MAT 12 CROSS 19e-6 KINEM totlag TYPE ElchDiffCondMultiScale
9 TRUSS3SCATRA LINE2 8 9 MAT 12 CROSS 19e-6 KINEM totlag TYPE ElchDiffCondMultiScale
10 TRUSS3SCATRA LINE2 9 10 MAT 12 CROSS 19e-6 KINEM totlag TYPE ElchDiffCondMultiScale
---------------------------------------------------------------END
