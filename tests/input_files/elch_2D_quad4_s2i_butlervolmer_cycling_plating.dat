-------------------------------------------------------------TITLE
Test case for periodic cycling of lithium-ion cells:
- two-dimensional problem with two one-dimensional electrode-electrolyte interfaces
- anode, electrolyte, and cathode each represented by one quad4 element
- constant initial lithium concentrations and electric potentials
- charge transfer kinetics characterized by Butler-Volmer equation
- lithium plating and stripping besides lithium intercalation and deintercalation
- cycling starts with constant-current (CC) charge from the fully
  discharged state at a C rate of 1 and switches to constant-voltage
  (CV) charge at a cutoff voltage of 4.2
- discharge begins in constant-current (CC) mode at a cutoff C rate
  of 0.8 and ends at a cutoff voltage of 3.8
- simulation ends after one more charge half-cycle, i.e., after a
  total of three half-cycles
- 3 quad4 elements with matching interface nodes
------------------------------------------------------PROBLEM SIZE
//ELEMENTS    3
//NODES       12
DIM           2
-------------------------------------------------------PROBLEM TYPE
PROBLEMTYPE                      Electrochemistry
------------------------------------------SCALAR TRANSPORT DYNAMIC
SOLVERTYPE                      nonlinear
TIMEINTEGR                      One_Step_Theta
TIMESTEP                        1.0
THETA                           0.5
INITIALFIELD                    field_by_condition
LINEAR_SOLVER                   1
RESULTSEVRY                     100
RESTARTEVRY                     100
--------------------------------SCALAR TRANSPORT DYNAMIC/NONLINEAR
ABSTOLRES                       0.0
----------------------------SCALAR TRANSPORT DYNAMIC/STABILIZATION
STABTYPE                        no_stabilization
DEFINITION_TAU                  Zero
EVALUATION_TAU                  integration_point
EVALUATION_MAT                  integration_point
-----------------------------SCALAR TRANSPORT DYNAMIC/S2I COUPLING
COUPLINGTYPE                    MatchingNodes
INTLAYERGROWTH_EVALUATION       monolithic
INTLAYERGROWTH_LINEAR_SOLVER    1
------------------------------------------------------ELCH CONTROL
TEMPERATURE                     253
INITPOTCALC                     yes
DIFFCOND_FORMULATION            Yes
EQUPOT                          divi
----------------------------------------------------------SOLVER 1
SOLVER                          UMFPACK
---------------------------------------------------------MATERIALS
MAT 1 MAT_electrode DIFF_COEF_CONC_DEP_FUNCT -1 DIFF_COEF_TEMP_SCALE_FUNCT 0 COND_CONC_DEP_FUNCT -1 COND_TEMP_SCALE_FUNCT 0 DIFF_PARA_NUM 1 DIFF_PARA 4.3e-8 COND_PARA_NUM 1 COND_PARA 1.e6 C_MAX 26.39 CHI_MAX 1.0 OCP_MODEL Taralov X_MIN -1.0 X_MAX -1.0 OCP_PARA_NUM 13 OCP_PARA -0.132 0 0 0 0 0 0 0 0 0 1.41 -3.52 0
MAT 2 MAT_elchmat NUMDOF 2 NUMSCAL 1 NUMPHASE 1 PHASEIDS 4
MAT 3 MAT_electrode DIFF_COEF_CONC_DEP_FUNCT -1 DIFF_COEF_TEMP_SCALE_FUNCT 0 COND_CONC_DEP_FUNCT -1 COND_TEMP_SCALE_FUNCT 0 DIFF_PARA_NUM 1 DIFF_PARA 1.1e-7 COND_PARA_NUM 1 COND_PARA 3.8e4 C_MAX 23.671 CHI_MAX 1.0 OCP_MODEL Taralov X_MIN -1.0 X_MAX -1.0 OCP_PARA_NUM 13 OCP_PARA 4.06279 0.0677504 -21.8502 12.8268 -0.045 -71.69 -0.105734 1.00167 0.379571 -1.576 0.01 -200. -0.19
MAT 4 MAT_elchphase EPSILON 1.0 TORTUOSITY 1.0 NUMMAT 1 MATIDS 5
MAT 5 MAT_newman VALENCE 1.0 DIFF_COEF_CONC_DEP_FUNCT -1 DIFF_COEF_TEMP_SCALE_FUNCT 0 TRANSNR -1 THERMFAC 0 COND_CONC_DEP_FUNCT -1 COND_TEMP_SCALE_FUNCT 0 DIFF_PARA_NUM 1 DIFF_PARA 3.9e-5 TRANS_PARA_NUM 1 TRANS_PARA 0.399 COND_PARA_NUM 1 COND_PARA 5.0e2
------------------------------------------------------------FUNCT1
COMPONENT 0 SYMBOLIC_FUNCTION_OF_SPACE_TIME 9.00172
COMPONENT 1 SYMBOLIC_FUNCTION_OF_SPACE_TIME 9.44e-9
------------------------------------------------------------FUNCT2
COMPONENT 0 SYMBOLIC_FUNCTION_OF_SPACE_TIME 1.2
COMPONENT 1 SYMBOLIC_FUNCTION_OF_SPACE_TIME -0.0332652803
------------------------------------------------------------FUNCT3
COMPONENT 0 SYMBOLIC_FUNCTION_OF_SPACE_TIME 12.89178
COMPONENT 1 SYMBOLIC_FUNCTION_OF_SPACE_TIME 4.1850999
------------------------------------------------RESULT DESCRIPTION
SCATRA DIS scatra NODE 1 QUANTITY phi1 VALUE  1.34406254261332680e+01 TOLERANCE 1.3e-07 // local lithium concentration at anode-electrolyte interface (anode side)
SCATRA DIS scatra NODE 1 QUANTITY phi2 VALUE  4.39336023448807059e-11 TOLERANCE 1.0e-16 // local electric potential at anode-electrolyte interface (anode side)
SCATRA DIS scatra NODE 6 QUANTITY phi1 VALUE  1.19999524318432238e+00 TOLERANCE 1.2e-08 // local lithium concentration at anode-electrolyte interface (electrolyte side)
SCATRA DIS scatra NODE 6 QUANTITY phi2 VALUE  4.35753009272343839e-02 TOLERANCE 4.4e-10 // local electric potential at anode-electrolyte interface (electrolyte side)
SCATRA DIS scatra NODE 5 QUANTITY phi1 VALUE  1.20000475681559271e+00 TOLERANCE 1.2e-08 // local lithium concentration at cathode-electrolyte interface (electrolyte side)
SCATRA DIS scatra NODE 5 QUANTITY phi2 VALUE  4.35756263404697142e-02 TOLERANCE 4.4e-10 // local electric potential at cathode-electrolyte interface (electrolyte side)
SCATRA DIS scatra NODE 10 QUANTITY phi1 VALUE  8.27921427843505597e+00 TOLERANCE 8.3e-08 // local lithium concentration at cathode-electrolyte interface (cathode side)
SCATRA DIS scatra NODE 10 QUANTITY phi2 VALUE  4.19999999845194072e+00 TOLERANCE 4.2e-08 // local electric potential at cathode-electrolyte interface (cathode side)
SCATRA DIS scatra SPECIAL QUANTITY soc1 VALUE  1.10422946836177505e+00 TOLERANCE 1.1e-08 // anode state of charge
SCATRA DIS scatra SPECIAL QUANTITY soc2 VALUE  1.12016837695212690e+00 TOLERANCE 1.1e-08 // cathode state of charge
SCATRA DIS scatra SPECIAL QUANTITY cellvoltage VALUE  4.20000000000000018e+00 TOLERANCE 4.2e-08 // cell voltage
SCATRA DIS scatra SPECIAL QUANTITY numiterlastnewton VALUE  3.00000000000000000e+00 TOLERANCE 1.0e-16 // number of Newton-Raphson iterations during last time step
SCATRA DIS scatra NODE 1 QUANTITY s2ilayerthickness VALUE  1.13683666468329457e-06 TOLERANCE 1.1e-14 // local plating film thickness at anode-electrolyte interface (near separator)
SCATRA DIS scatra SPECIAL QUANTITY numstep VALUE  2.18100000000000000e+03 TOLERANCE 1.0e-16 // total number of time steps
-------------------------------------DESIGN LINE DIRICH CONDITIONS
DLINE  1
E 1 - NUMDOF 2  ONOFF 0 1  VAL 0.0 0.0  FUNCT 0 0
------------------------------DESIGN SURF INITIAL FIELD CONDITIONS
DSURF  3
E 1 - ScaTra 1
E 2 - ScaTra 2
E 3 - ScaTra 3
------------------------------DESIGN S2I MESHTYING LINE CONDITIONS
DLINE  4
E 2 - 0 Slave S2I_KINETICS_ID  0
E 3 - 0 Master S2I_KINETICS_ID  0
E 4 - 1 Master S2I_KINETICS_ID  1
E 5 - 1 Slave S2I_KINETICS_ID  1
-------------------------------DESIGN S2I KINETICS LINE CONDITIONS
DLINE  4
E 2 - 0 Slave KINETIC_MODEL Butler-Volmer NUMSCAL 1 STOICHIOMETRIES -1  E- 1  K_R  2.2e-9 ALPHA_A 0.5 ALPHA_C 0.5 IS_PSEUDO_CONTACT 0
E 3 - 0 Master
E 4 - 1 Master
E 5 - 1 Slave KINETIC_MODEL Butler-Volmer NUMSCAL 1 STOICHIOMETRIES -1  E- 1  K_R  7.2e-8 ALPHA_A 0.5 ALPHA_C 0.5 IS_PSEUDO_CONTACT 0
------------------------DESIGN S2I KINETICS GROWTH LINE CONDITIONS
DLINE  1
E 2 - 0 KINETIC_MODEL Butler-Volmer NUMSCAL 1 STOICHIOMETRIES -1  E- 1  K_R  1.2e-7 ALPHA_A 0.5 ALPHA_C 0.5 MOLMASS 6.941e-9 DENSITY 5.34e-7 CONDUCTIVITY 10.6e9 REGTYPE trigonometrical REGPAR 0.0 INITTHICKNESS 0.0
------------------DESIGN ELECTRODE STATE OF CHARGE SURF CONDITIONS
DSURF  2
E 1 - ID 0 C_0% 1.3195 C_100% 12.2941 ONE_HOUR 3600
E 3 - ID 1 C_0% 20.574 C_100% 9.5994 ONE_HOUR 3600
-------------------------------DESIGN CELL VOLTAGE LINE CONDITIONS
DLINE  2
E 1 - ID 0
E 6 - ID 1
--------------------------DESIGN CCCV CELL CYCLING LINE CONDITIONS
DLINE  1
E 6 -  NUMBER_OF_HALF_CYCLES  3 BEGIN_WITH_CHARGING 1 CONDITION_ID_FOR_CHARGE 1 CONDITION_ID_FOR_DISCHARGE 2 INIT_RELAX_TIME -1.0 ADAPTIVE_TIME_STEPPING_INIT_RELAX 0 NUM_ADD_ADAPT_TIME_STEPS 3 MIN_TIME_STEPS_DURING_INIT_RELAX 0
----------------------------DESIGN CCCV HALF-CYCLE LINE CONDITIONS
DLINE  2
E 6 - ID 1 CURRENT 1.52425e-06 CUT_OFF_VOLTAGE 4.2 CUT_OFF_C_RATE 0.8 RELAX_TIME -1.0 ADAPTIVE_TIME_STEPPING_PHASE_ON_OFF 0 0 0
E 6 - ID 2 CURRENT -1.52425e-06 CUT_OFF_VOLTAGE 3.8 CUT_OFF_C_RATE 100.0 RELAX_TIME -1.0 ADAPTIVE_TIME_STEPPING_PHASE_ON_OFF 0 0 0
-----------------------------------------------DLINE-NODE TOPOLOGY
NODE    2 DLINE 1
NODE    3 DLINE 1
NODE    1 DLINE 2
NODE    4 DLINE 2
NODE    6 DLINE 3
NODE    7 DLINE 3
NODE    5 DLINE 4
NODE    8 DLINE 4
NODE    10 DLINE 5
NODE    11 DLINE 5
NODE    9 DLINE 6
NODE    12 DLINE 6
-----------------------------------------------DSURF-NODE TOPOLOGY
NODE    1 DSURFACE 1
NODE    2 DSURFACE 1
NODE    3 DSURFACE 1
NODE    4 DSURFACE 1
NODE    5 DSURFACE 2
NODE    6 DSURFACE 2
NODE    7 DSURFACE 2
NODE    8 DSURFACE 2
NODE    9 DSURFACE 3
NODE    10 DSURFACE 3
NODE    11 DSURFACE 3
NODE    12 DSURFACE 3
-------------------------------------------------------NODE COORDS
NODE  1 COORD  2.5000000000000001e-04  2.5000000000000001e-04 0.0000000000000000e+00
NODE  2 COORD -2.5000000000000001e-04  2.5000000000000001e-04 0.0000000000000000e+00
NODE  3 COORD -2.5000000000000001e-04 -2.5000000000000001e-04 0.0000000000000000e+00
NODE  4 COORD  2.5000000000000001e-04 -2.5000000000000001e-04 0.0000000000000000e+00
NODE  5 COORD  7.5000000000000002e-04  2.5000000000000001e-04 0.0000000000000000e+00
NODE  6 COORD  2.5000000000000001e-04  2.5000000000000001e-04 0.0000000000000000e+00
NODE  7 COORD  2.5000000000000001e-04 -2.5000000000000001e-04 0.0000000000000000e+00
NODE  8 COORD  7.5000000000000002e-04 -2.5000000000000001e-04 0.0000000000000000e+00
NODE  9 COORD  1.2500000000000000e-03  2.5000000000000001e-04 0.0000000000000000e+00
NODE 10 COORD  7.5000000000000002e-04  2.5000000000000001e-04 0.0000000000000000e+00
NODE 11 COORD  7.5000000000000002e-04 -2.5000000000000001e-04 0.0000000000000000e+00
NODE 12 COORD  1.2500000000000000e-03 -2.5000000000000001e-04 0.0000000000000000e+00
------------------------------------------------TRANSPORT ELEMENTS
1 TRANSP QUAD4  1 2 3 4    MAT 1 TYPE ElchElectrodeGrowth
2 TRANSP QUAD4  5 6 7 8    MAT 2 TYPE ElchDiffCond
3 TRANSP QUAD4  9 10 11 12    MAT 3 TYPE ElchElectrode
